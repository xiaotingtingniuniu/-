(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1025:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"page-user"},[t("header",{staticClass:"user__header"},[t("navigation")],1),this._v(" "),t("main",{staticClass:"user__main"},[t("div",{staticClass:"user__main__wrap"},[t("user-info"),this._v(" "),1===this.companyType?t("div",[t("user-derogation"),this._v(" "),t("user-medal")],1):this._e()],1)])])};n._withStripped=!0;i(82),i(100),i(67),i(101),i(102),i(103),i(68);var r=i(80),s=i(661),o=function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"user-derogation"},[this._m(0),this._v(" "),t("main",{ref:"chart"})])};o._withStripped=!0;i(186),i(30),i(45),i(104);var a=i(659),c=i.n(a),l=(i(925),i(946),i(957),i(77));function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var d={data:function(){return{myChart:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){p(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(r.e)("user",["derogationList","sevenDayDerogation"]),{chromeVersion:function(){var e=Object(l.b)();return e>0&&e<50},options:function(){return{title:{text:"近7天共减损：".concat(this.sevenDayDerogation,"元"),textStyle:{color:"#303233",fontSize:14,fontWeight:"normal"},left:"right",padding:[20,17,0,0]},grid:{containLabel:!0,left:this.chromeVersion<=49?5:0,top:60,right:18,bottom:0},xAxis:{type:"time",splitNumber:7,axisLine:{lineStyle:{color:"#e6ecf2"}},splitLine:{lineStyle:{color:"#e6ecf2"}},axisTick:{show:!1},axisLabel:{color:"#919599",formatter:function(e){var t=new Date(e);return[t.getMonth()+1,t.getDate()].join(".")}}},yAxis:{type:"value",name:"减损金额（元）",nameTextStyle:{color:"#919599",padding:[0,0,0,50]},nameGap:24,axisLine:{lineStyle:{color:"#e6ecf2"}},splitLine:{lineStyle:{color:"#e6ecf2"}},axisTick:{show:!1},axisLabel:{color:"#919599",formatter:function(e){return String(e).replace(/,/g,"")}}},tooltip:{position:"top",enterable:!0,transitionDuration:.5,backgroundColor:"transparent",padding:0,textStyle:{color:"#ff6700",fontSize:12,lineHeight:12},extraCssText:"border-radius: 100px;",formatter:function(e){var t=e.value,i=String(t).split(",")[1]+"元",n=document.createElement("div");n.className="tooltip_inner";var r=document.createElement("div");r.innerText=i;var s=document.createElement("div");return s.className="tooltip_arrow",n.appendChild(r),n.appendChild(s),n.outerHTML}},series:[{data:this.derogationList,type:"line",symbol:"circle",symbolSize:8,hoverAnimation:!1,emphasis:{itemStyle:{color:"#ffad75",borderColor:"rgba(255, 173, 117, 0.3)",borderWidth:6}},animationDuration:0}],color:["#ffad75"]}}}),watch:{derogationList:function(){this.initChart()}},mounted:function(){this.initChart()},beforeDestroy:function(){window.removeEventListener("resize",this.handleResize)},methods:{initChart:function(){this.myChart||(this.myChart=c.a.init(this.$refs.chart),window.addEventListener("resize",this.handleResize)),this.myChart.setOption(this.options)},handleResize:function(){this.myChart.resize()}}},f=(i(958),i(649)),h=Object(f.a)(d,o,[function(){var e=this.$createElement,t=this._self._c||e;return t("header",[t("span",[this._v("我的减损金额")])])}],!1,null,"8a1b2178",null);h.options.__file="app/components/UserDerogation.vue";var m=h.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"user-info"},[i("header",[i("i",{staticClass:"icon-head"}),e._v(" "),i("span",{staticClass:"user-name"},[e._v(e._s(e.userName))]),e._v(" "),i("div",{staticClass:"btn-user-info",on:{click:function(t){e.showUserInfo=!0}}},[i("span",[e._v("个人信息")])]),e._v(" "),i("div",{staticClass:"identity",class:{certified:e.isCertified,pass:e.isPass,verified:e.isVerified,review:e.isReview}})]),e._v(" "),i("main",[i("ul",e._l(e.pointAndDerogation,(function(t,n){return i("li",{key:n},[1===e.companyType?i("div",{staticClass:"item_box"},[i("div",{staticClass:"item"},[i("div",{staticClass:"item__sum"},[e._v(e._s(t.sum))]),e._v(" "),i("div",{staticClass:"item__label"},[i("span",[e._v(e._s(t.label))]),e._v(" "),"inviteCode"!=t.name?i("i",{staticClass:"icon-question",on:{click:function(i){return e.handleQuestion(t.name)}}}):e._e()]),e._v(" "),"inviteCode"!=t.name?i("div",{staticClass:"item__detail",on:{click:function(i){return e.handleExtra(t.name)}}},[t.extra?i("span",[e._v(e._s(t.extra))]):e._e()]):"复制"===t.extra?i("div",{staticClass:"item__detail",on:{click:function(i){return e.inviteCodeTodo(t.extra)}}},[t.extra?i("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.inviteCode,expression:"inviteCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}]},[e._v(e._s(t.extra))]):e._e()]):"获取"===t.extra?i("div",{staticClass:"item__detail aa",on:{click:function(t){return e.getInviteCode()}}},[t.extra?i("span",[e._v(e._s(t.extra))]):e._e()]):e._e()]),e._v(" "),i("div",{staticClass:"rule"})]):"inviteCode"===t.name?i("div",{staticClass:"item_box"},[i("div",{staticClass:"item"},[i("div",{staticClass:"item__sum"},[e._v(e._s(t.sum))]),e._v(" "),i("div",{staticClass:"item__label"},[i("span",[e._v(e._s(t.label))]),e._v(" "),"inviteCode"!=t.name?i("i",{staticClass:"icon-question",on:{click:function(i){return e.handleQuestion(t.name)}}}):e._e()]),e._v(" "),"inviteCode"!=t.name?i("div",{staticClass:"item__detail",on:{click:function(i){return e.handleExtra(t.name)}}},[t.extra?i("span",[e._v(e._s(t.extra))]):e._e()]):"复制"===t.extra?i("div",{staticClass:"item__detail aa",on:{click:function(i){return e.inviteCodeTodo(t.extra)}}},[t.extra?i("span",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.inviteCode,expression:"inviteCode",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}]},[e._v(e._s(t.extra))]):e._e()]):"获取"===t.extra?i("div",{staticClass:"item__detail aa",on:{click:function(t){return e.getInviteCode()}}},[t.extra?i("span",[e._v(e._s(t.extra))]):e._e()]):e._e()]),e._v(" "),i("div",{staticClass:"rule"})]):e._e()])})),0)]),e._v(" "),i("dialog-user-info",{attrs:{show:e.showUserInfo,"user-name":e.userName},on:{"update:show":function(t){e.showUserInfo=t}}}),e._v(" "),i("dialog-point-rules",{attrs:{show:e.showPointRules},on:{"update:show":function(t){e.showPointRules=t}}}),e._v(" "),i("dialog-derogation-rules",{attrs:{show:e.showDerogationRules},on:{"update:show":function(t){e.showDerogationRules=t}}}),e._v(" "),i("dialog-point-history",{attrs:{show:e.showPointHistory},on:{"update:show":function(t){e.showPointHistory=t}}})],1)};v._withStripped=!0;var b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"dialog-user-center",attrs:{"modal-append-to-body":!1,"append-to-body":!1,visible:e.show,"before-close":e.handleClose,width:"640px"},on:{"update:visible":function(t){e.show=t}}},[i("div",{staticClass:"dialog__header",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"dialog__title"},[e._v("个人信息")])]),e._v(" "),i("el-form",{staticClass:"form-user-info",attrs:{model:e.tempUserInfo,"label-width":"120px","label-position":"right"}},[i("el-form-item",{staticClass:"item-name",attrs:{label:"姓名"}},[i("el-input",{staticClass:"input-name name",attrs:{placeholder:"请输入真实姓名（最多8个汉字）",maxlength:"8"},model:{value:e.tempUserInfo.nickname,callback:function(t){e.$set(e.tempUserInfo,"nickname",t)},expression:"tempUserInfo.nickname"}}),e._v(" "),i("transition",{attrs:{name:"fade"}},[e.error.nickname?i("div",{staticClass:"form__msg"},[i("i",{staticClass:"el-icon-warning"}),e._v(" "),i("span",[e._v(e._s(e.error.nicknameErrorMsg))])]):e._e()])],1),e._v(" "),i("el-form-item",{staticClass:"item-sex",attrs:{label:"性别"}},[i("el-radio",{attrs:{label:1},model:{value:e.tempUserInfo.sex,callback:function(t){e.$set(e.tempUserInfo,"sex",t)},expression:"tempUserInfo.sex"}},[e._v("先生")]),e._v(" "),i("el-radio",{attrs:{label:0},model:{value:e.tempUserInfo.sex,callback:function(t){e.$set(e.tempUserInfo,"sex",t)},expression:"tempUserInfo.sex"}},[e._v("女士")])],1),e._v(" "),i("el-form-item",{attrs:{label:"出生日期"}},[i("el-date-picker",{staticClass:"input-birthday",attrs:{"default-value":new Date("1990-01-01"),editable:!1,clearable:!1,"picker-options":e.datePickerOptions,type:"date","value-format":"yyyy-MM-dd",placeholder:"请选择出生日期","prefix-icon":"el-icon-arrow-down"},on:{blur:e.birthdayBlur},model:{value:e.tempUserInfo.birthday,callback:function(t){e.$set(e.tempUserInfo,"birthday",t)},expression:"tempUserInfo.birthday"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"工作所在地"}},[i("el-cascader",{ref:"cascaderAddr",staticClass:"input-area",attrs:{placeholder:"请选择工作所在地",options:e.optionsArea,props:{value:"name",label:"name"}},on:{change:e.handleChange,blur:e.areaBlur},model:{value:e.selectedOptions,callback:function(t){e.selectedOptions=t},expression:"selectedOptions"}})],1),e._v(" "),i("el-form-item",{staticClass:"item-company",attrs:{label:"公司名称"}},[i("el-input",{staticClass:"input-company",attrs:{placeholder:"请输入公司名称（最多80个字符）",maxlength:"80"},on:{blur:e.handleCompany},model:{value:e.tempUserInfo.company,callback:function(t){e.$set(e.tempUserInfo,"company",t)},expression:"tempUserInfo.company"}})],1)],1),e._v(" "),i("template",{slot:"footer"},[i("button",{staticClass:"btn-close",on:{click:e.handleClose}},[e._v("放弃修改")]),e._v(" "),i("button",{staticClass:"btn-save",on:{click:e.handleSave}},[e._v("确定")])])],2)};b._withStripped=!0;i(185),i(24),i(31),i(187);var y=i(959),_=i(70),g=i(0),w=i(20),O=i.n(w);function C(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var x={props:{show:{type:Boolean,required:!0}},data:function(){return{optionsArea:[],options:y.regionData,selectedOptions:[],userInfo:{nickname:null,sex:"1",birthday:null,province:null,city:null,district:null,roleName:null,company:null},tempUserInfo:{},error:{nickname:!1,nicknameErrorMsg:""},isSaving:!1,datePickerOptions:{disabledDate:function(e){return e.getTime()<new Date("1939-12-31")||e.getTime()>Date.now()}},provinceCity:[]}},computed:{couldSave:function(){return!this.error.nickname}},watch:{show:function(e){e&&(this.tempUserInfo={nickname:this.userInfo.nickname,sex:this.userInfo.sex,birthday:this.userInfo.birthday,province:this.userInfo.province,city:this.userInfo.city,district:this.userInfo.district,roleName:this.userInfo.roleName,company:this.userInfo.company},this.tempUserInfo)}},created:function(){this.getUserInfo();var e=this;this.getAllAreaInfo((function(t){var i=t.areaList;e.optionsArea=i}))},methods:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(Object(i),!0).forEach((function(t){j(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(r.b)("user",["addPointByType","getAllAreaInfo"]),{},Object(r.d)("user",["setUserName"]),{getUserInfo:function(){var e=this;Object(_.d)({}).then((function(t){var i=t.data.data,n=i.nickname,r=i.birthday,s=i.province,o=i.city,a=i.district,c=i.roleName,l=i.company,u=i.sex;null!==u&&""!==u||(u="1"),e.setUserInfo({nickname:n,sex:u,birthday:r,province:s,city:o,district:a,roleName:c,company:l}),e.userInfo})).catch((function(e){console.error(e)}))},getRoleDicCurrent:function(){Object(_.b)({}).then((function(e){e.data.data})).catch((function(e){console.error(e)}))},handleChange:function(e){this.tempUserInfo.province=e[0],this.tempUserInfo.city=e[1],this.tempUserInfo.district=e[2]},handleChangeArea:function(e){},setUserInfo:function(e){var t=e.nickname,i=e.sex,n=e.birthday,r=e.province,s=e.city,o=e.district,a=e.roleName,c=e.company,l={};l.nickname=t,l.sex=Number(i),l.birthday=n,l.province=r,l.city=s,l.district=o,l.roleName=a,l.company=c,this.userInfo=l,this.selectedOptions=[r,s,o]},birthdayBlur:function(){""!==this.tempUserInfo.birthday&&null!==this.tempUserInfo.birthday||(this.tempUserInfo.birthday="1990-01-01")},areaBlur:function(){this.selectedOptions,this.$refs.cascaderAddr.currentLabels,this.$refs.cascaderAddr.currentLabels.length<=0&&(this.selectedOptions=["北京市","市辖区","东城区"],this.tempUserInfo.province="北京市",this.tempUserInfo.city="市辖区",this.tempUserInfo.district="东城区")},handleCompany:function(){this.tempUserInfo.company},handleClose:function(){if(!this.isSaving){var e=this.userInfo.province,t=this.userInfo.city,i=this.userInfo.district;this.error.nicknameErrorMsg="",this.error.nickname=!1,this.$emit("update:show",!1);try{this.selectedOptions=[e,t,i]}catch(e){this.selectedOptions=[]}}},validate:function(){return this.error.nickname=!1,this.tempUserInfo.nickname?!!/^[\u4e00-\u9fa5]+$/.test(this.tempUserInfo.nickname)||(this.error.nickname=!0,this.error.nicknameErrorMsg="姓名仅支持中文，请修改",!1):(this.error.nickname=!0,this.error.nicknameErrorMsg="请填写真实姓名",!1)},handleSave:function(){var e=this;if(!this.isSaving&&this.validate()){if(!this.couldSave)return;var t=this.tempUserInfo,i=t.nickname,n=t.sex,r=t.birthday,s=t.province,o=t.city,a=t.district,c=t.roleName,l=t.company;this.isSaving=!0,Object(_.h)({nickname:i,sex:n,birthday:r,province:s,city:o,district:a,roleName:c,company:l}).then((function(t){if(t.data.code===g.e.SUCCESS){e.addPointByType({type:g.d.USER_INFO}),e.$message({message:"保存成功",type:"success"}),e.setUserInfo({nickname:i,sex:n,birthday:r,province:s,city:o,district:a,roleName:c,company:l});var u=O.a.getJSON("auth"),p={token:u.token,uid:u.uid,businessId:u.businessId,userName:i,phoneNumber:u.phoneNumber,company:l,registerType:u.registerType,roleName:c,userAuthStatus:u.userAuthStatus,companyType:u.companyType,inviteCode:u.inviteCode,sex:n,birthday:r,province:s,city:o,district:a};O.a.set("auth",JSON.stringify(p),{expires:u.expiresIn?u.expiresIn/60/60/24:7}),e.setUserName(i)}})).catch((function(e){console.error(e)})).finally((function(){e.isSaving=!1,e.$emit("update:show",!1)}))}}})},P=(i(960),Object(f.a)(x,b,[],!1,null,"c5754ca4",null));P.options.__file="app/components/DialogUserInfo.vue";var I=P.exports,k=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"dialog-user-center",attrs:{"modal-append-to-body":!0,"append-to-body":!0,visible:e.show,"before-close":e.handleClose,width:"640px"},on:{"update:visible":function(t){e.show=t}}},[i("div",{staticClass:"dialog__header",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"dialog__title"},[e._v("积分规则")])]),e._v(" "),e._l(e.rules,(function(e,t){return i("rule-item",{key:t,attrs:{rule:e}})}))],2)};k._withStripped=!0;var S=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"rule-item"},[t("span",{staticClass:"point"}),this._v(" "),t("span",{staticClass:"text"},[this._v(this._s(this.rule))])])};S._withStripped=!0;var D={props:{rule:{type:String,required:!1,default:""}}},U=(i(961),Object(f.a)(D,S,[],!1,null,"24852e1c",null));U.options.__file="app/components/RuleItem.vue";var E=U.exports,N={components:{RuleItem:E},props:{show:{type:Boolean,required:!0}},data:function(){return{rules:["每日访问【+2 积分】","一周访问三天【+5 积分】","一周访问五天【+10 积分】","VIN 查询有效记录一次【+2 积分】（每日最多得 20 积分）","OE 查询有效记录一次【+1 积分】（每日最多得 30 积分）","首次登陆【+20 积分】","完善个人信息 【+50 积分】","首次使用 VIN 查询功能【+10 积分】","首次使用 OE 查询功能【+10 积分】","首次使用江湖名查询【+10 积分】"]}},methods:{handleClose:function(){this.$emit("update:show",!1)}}},T=Object(f.a)(N,k,[],!1,null,null,null);T.options.__file="app/components/DialogPointRules.vue";var R=T.exports,$=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"dialog-user-center",attrs:{"modal-append-to-body":!0,"append-to-body":!0,visible:e.show,"before-close":e.handleClose,width:"640px"},on:{"update:visible":function(t){e.show=t}}},[i("div",{staticClass:"dialog__header",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"dialog__title"},[e._v("减损规则")])]),e._v(" "),i("rule-item",{attrs:{rule:"触发OE纠偏行为时，推荐配件金额小于查询金额，且同一个OE仅记录一次。"}})],1)};$._withStripped=!0;var A={components:{RuleItem:E},props:{show:{type:Boolean,required:!0}},methods:{handleClose:function(){this.$emit("update:show",!1)}}},H=Object(f.a)(A,$,[],!1,null,null,null);H.options.__file="app/components/DialogDerogationRules.vue";var L=H.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"dialog-user-center",attrs:{"modal-append-to-body":!1,"append-to-body":!1,visible:e.show,"before-close":e.handleClose,width:"640px"},on:{"update:visible":function(t){e.show=t}}},[i("div",{staticClass:"dialog__header",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"dialog__title"},[e._v("积分明细")])]),e._v(" "),i("div",{staticClass:"wrapper",on:{scroll:e.handleScroll}},[e.pointHistory&&e.pointHistory.length?i("ul",{staticClass:"point-history_items"},e._l(e.pointHistory,(function(t,n){return i("li",{key:n,staticClass:"point-history_item"},[i("div",{staticClass:"date"},[e._v(e._s(t.date))]),e._v(" "),e._l(t.details,(function(t,n){return i("div",{key:n,staticClass:"content"},[i("div",{staticClass:"desc"},[i("span",{staticClass:"remark"},[e._v(e._s(t.remarks))]),e._v(" "),i("span",{staticClass:"pt"},[e._v(e._s((t.type?"-":"+")+t.value+"积分"))])]),e._v(" "),i("div",{staticClass:"time"},[e._v(e._s(t.time))])])}))],2)})),0):e.loadingNextPage?e._e():i("div",{staticClass:"empty"},[i("span",[e._v("暂无积分明细")])])])])};M._withStripped=!0;i(133),i(134),i(73),i(135),i(66),i(132),i(131),i(189),i(83),i(81),i(84);var q=i(21),B=i.n(q),V=i(125),z=i.n(V),J=i(149);function Q(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||W(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return F(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(i):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function G(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function K(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var X={props:{show:{type:Boolean,required:!0}},data:function(){return{originalPointHistory:[],pointHistory:[],lastCreateTime:"",isLastPage:!1,loadingNextPage:!0,ctSource:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?G(Object(i),!0).forEach((function(t){K(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(r.e)("user",["uid"]),{couldLoadNextPage:function(){return!this.isLastPage&&!this.loadingNextPage}}),watch:{show:function(e){e&&this.getUserPointHistory()}},beforeDestroy:function(){this.cancelRequest()},methods:{cancelRequest:function(){this.ctSource&&(this.ctSource.cancel("Request canceled"),this.ctSource=null)},handleClose:function(){this.$emit("update:show",!1),this.originalPointHistory=[],this.pointHistory=[],this.lastCreateTime="",this.isLastPage=!1,this.loadingNextPage=!0},handleScroll:z.a.debounce((function(e){if(this.couldLoadNextPage){var t=e.target;t.scrollTop/(t.scrollHeight-t.offsetHeight)>.9&&this.getUserPointHistory()}}),150),getUserPointHistory:function(){var e=this;this.loadingNextPage=!0;var t=B.a.CancelToken.source();this.ctSource=t,Object(_.f)({userId:this.uid,pageCount:20,queryTime:this.lastCreateTime||new Date},{cancelToken:t.token}).then((function(t){var i=t.data.data;e.updatePointHistory(i||[])})).catch((function(e){console.error(e)})).finally((function(){e.loadingNextPage=!1}))},updatePointHistory:function(e){var t=new Map,i="";this.isLastPage=!e||e.length<20,this.originalPointHistory=this.originalPointHistory.concat(e);var n,r=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=W(e))){var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,s=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){o=!0,r=e},f:function(){try{s||null==n.return||n.return()}finally{if(o)throw r}}}}(this.originalPointHistory);try{for(r.s();!(n=r.n()).done;){var s=n.value;i=new Date(Object(J.a)(s.createTime));var o=Object(J.b)(i.getTime()),a=Object(J.d)(i.getTime());t.has(o)||t.set(o,{date:o,details:[]});var c=t.get(o),l=s.remarks,u=s.updateInteg,p=s.updateType;c.details.push({time:a,remarks:l,value:u,type:p})}}catch(e){r.e(e)}finally{r.f()}this.pointHistory=Q(t.values()),this.lastCreateTime=i}}},Y=(i(962),Object(f.a)(X,M,[],!1,null,"9e58590e",null));function Z(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ee(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(i),!0).forEach((function(t){te(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Z(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function te(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Y.options.__file="app/components/DialogPointHistory.vue";var ie={components:{DialogUserInfo:I,DialogPointRules:R,DialogDerogationRules:L,DialogPointHistory:Y.exports},mixins:[i(665).a],data:function(){return{showUserInfo:!1,showPointRules:!1,showDerogationRules:!1,showPointHistory:!1,isCertified:!0,isPass:!1,isVerified:!1,isReview:!1}},computed:ee({},Object(r.e)("user",["userName","point","totalPoint","totalDerogation","userAuthStatus","inviteCode","companyType","registerType"]),{},Object(r.c)("user",["pointAndDerogation"])),mounted:function(){switch(this.userAuthStatus,this.userAuthStatus){case"1":this.isCertified=!0,this.isPass=!1,this.isVerified=!1,this.isReview=!1;break;case"2":this.isReview=!0,this.isCertified=!1,this.isPass=!1,this.isVerified=!1;break;case"3":this.isPass=!0,this.isReview=!1,this.isCertified=!1,this.isVerified=!1;break;case"4":this.isVerified=!0,this.isPass=!1,this.isReview=!1,this.isCertified=!1;break;default:this.isCertified=!0,this.isPass=!1,this.isVerified=!1,this.isReview=!1}this.inviteCode,""===this.inviteCode?(this.$store.commit("user/setInviteTodo","获取"),this.getInviteCode()):(this.$store,this.$store.commit("user/setInviteTodo","复制"))},methods:ee({},Object(r.d)("user",["setInviteTodo"]),{},Object(r.b)("user",["getInviteCode","addPointByType"]),{handleQuestion:function(e){switch(e){case"point":this.$message("积分体系正在升级，敬请期待");break;case"derogation":this.showDerogationRules=!0}},handleExtra:function(e){switch(e){case"point":this.showPointHistory=!0}},inviteCodeTodo:function(e){}})},ne=(i(963),Object(f.a)(ie,v,[],!1,null,"a0982ff4",null));ne.options.__file="app/components/UserInfo.vue";var re=ne.exports,se=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"user-medal"},[i("header",[i("span",[e._v("我的勋章")]),e._v(" "),i("i",{staticClass:"icon-question",on:{click:function(t){e.showMedalRules=!0}}})]),e._v(" "),i("main",[i("ul",e._l(e.medalList,(function(t,n){return i("li",{key:n},[i("img",{attrs:{src:t.url,alt:t.name}}),e._v(" "),i("span",[t.awarded?[e._v("已获得")]:[e._v("未获得")]],2)])})),0)]),e._v(" "),i("dialog-medal-rules",{attrs:{show:e.showMedalRules},on:{close:function(t){e.showMedalRules=!1}}})],1)};se._withStripped=!0;var oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"dialog-user-center",attrs:{"modal-append-to-body":!0,"append-to-body":!0,visible:e.show,"before-close":e.handleClose,width:"640px"},on:{"update:visible":function(t){e.show=t}}},[i("div",{staticClass:"dialog__header",attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"dialog__title"},[e._v("勋章规则")])]),e._v(" "),e._l(e.rules,(function(e,t){return i("rule-item",{key:t,attrs:{rule:e}})}))],2)};oe._withStripped=!0;var ae={components:{RuleItem:E},props:{show:{type:Boolean,required:!0}},data:function(){return{rules:["风控达人：累计减损金额达到 10 万元","业务专家：VIN 及 OE 搜索积分达到 3000 分","勤劳员工：访问积分累计达到 240 分"]}},methods:{handleClose:function(){this.$emit("close")}}},ce=Object(f.a)(ae,oe,[],!1,null,null,null);function le(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ue(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}ce.options.__file="app/components/DialogMedalRules.vue";var pe={components:{DialogMedalRules:ce.exports},data:function(){return{showMedalRules:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?le(Object(i),!0).forEach((function(t){ue(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):le(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},Object(r.e)("user",["medalList"]))},de=(i(964),Object(f.a)(pe,se,[],!1,null,"7288ee4f",null));de.options.__file="app/components/UserMedal.vue";var fe=de.exports;function he(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function me(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?he(Object(i),!0).forEach((function(t){ve(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):he(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function ve(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var be={components:{Navigation:s.a,UserDerogation:m,UserInfo:re,UserMedal:fe},computed:me({},Object(r.e)("user",["companyType"])),created:function(){1===this.companyType&&this.getUserCenterInfo()},methods:me({},Object(r.b)("user",["getUserCenterInfo"]))},ye=(i(965),Object(f.a)(be,n,[],!1,null,"c0ae68e8",null));ye.options.__file="app/views/PageUserCenter.vue";t.default=ye.exports},665:function(e,t,i){"use strict";var n=i(77);t.a={methods:{onCopy:function(){this.$message({message:"复制成功",type:"success"})},showCopy:function(e){return e&&!Object(n.e)()}}}},725:function(e,t,i){},726:function(e,t,i){},727:function(e,t,i){},728:function(e,t,i){},729:function(e,t,i){},730:function(e,t,i){},731:function(e,t,i){},958:function(e,t,i){"use strict";var n=i(725);i.n(n).a},960:function(e,t,i){"use strict";var n=i(726);i.n(n).a},961:function(e,t,i){"use strict";var n=i(727);i.n(n).a},962:function(e,t,i){"use strict";var n=i(728);i.n(n).a},963:function(e,t,i){"use strict";var n=i(729);i.n(n).a},964:function(e,t,i){"use strict";var n=i(730);i.n(n).a},965:function(e,t,i){"use strict";var n=i(731);i.n(n).a}}]);