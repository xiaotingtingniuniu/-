(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1028:function(t,e,s){"use strict";s.r(e);s(82),s(100),s(67),s(131),s(101),s(102),s(103),s(68);var n=s(125),i=s.n(n),a=s(80),r=(s(975),s(649)),c=Object(r.a)({},(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dev-bg"},[e("div"),this._v(" "),e("span",[this._v("程序员正在拼命地搬砖中，敬请期待~")])])}],!1,null,"5ddb5673",null).exports,o={props:{src:{type:String,required:!1,default:""},name:{type:String,required:!1,default:""},skeleton:{type:Boolean,required:!1,default:!1}},data:function(){return{img:null,loading:!0}},created:function(){this.skeleton||this.loadImage()},methods:{loadImage:function(){var t=this;this.img=new Image,this.img.src=this.src,this.img.onload=function(){t.loading=!1},this.img.onerror=function(){t.loading=!1}},handleClick:function(){this.$emit("click")},handleContextMenu:function(t){t.preventDefault()}}},l=(s(976),Object(r.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.skeleton||t.loading?s("div",{staticClass:"lazyload-image is-skeleton"}):s("div",{staticClass:"lazyload-image",on:{click:t.handleClick}},[s("div",{class:["inner",{"is-default":!t.src}]},[t.src?s("img",{attrs:{src:t.src,alt:t.name||t.src},on:{contextmenu:t.handleContextMenu}}):t._e()]),t._v(" "),s("div",{staticClass:"label"},[s("span",[t._v(t._s(t.name))])])])}),[],!1,null,"50ce67da",null).exports),u=(s(73),s(144),s(687)),h=s(0);function d(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function f(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var p={components:{VehicleInfo:u.a},data:function(){return{vehicleInfoState:"collapsed",isCD:!1,isAnimation:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?d(Object(s),!0).forEach((function(e){f(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):d(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(a.c)("partTree",{currentVehicle:"currentVehicle"}),{vehicleBrand:function(){var t=this.currentVehicle,e=t.vinCode,s=t.maker,n=t.serial;return"返回首页 ".concat(e,"［").concat(s," ").concat(n,"］")},buttonArrow:function(){switch(this.vehicleInfoState){case"collapsed":return"<<";case"expanded":default:return">>"}},isExpanded:function(){return"expanded"===this.vehicleInfoState}}),mounted:function(){this.changeTranslateX()},methods:{handleGoHome:function(){this.$router.push({name:h.f.HOME})},handleGoVINPartInfo:function(){this.$router.push({name:h.f.VIN})},handleCollapse:function(){var t=this;if(!this.isCD){switch(this.isCD=!0,this.vehicleInfoState){case"collapsed":this.vehicleInfoState="expanded";break;case"expanded":this.vehicleInfoState="collapsed"}this.changeTranslateX(),setTimeout((function(){t.isCD=!1}),200)}},changeTranslateX:function(){var t=this;if("expanded"===this.vehicleInfoState){var e=this.$refs.vi;e&&(e.style.transform="translateX(0)")}else{var s=this.$refs.vi;if(s){var n=s.querySelector(".vehicle-info"),i=n?n.clientWidth:0;i&&(s.style.transform="translateX(".concat(i-20,"px)")),setTimeout((function(){t.isAnimation=!0}),500)}}}}},v=(s(977),Object(r.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("div",{staticClass:"nav__step",on:{click:t.handleGoHome}},[t._v(t._s(t.vehicleBrand))]),t._v(" "),s("div",{staticClass:"arrow"},[t._v(">>")]),t._v(" "),s("div",{staticClass:"nav__step",on:{click:t.handleGoVINPartInfo}},[t._v("返回上一页")]),t._v(" "),s("div",{staticClass:"arrow"},[t._v(">>")]),t._v(" "),s("div",{staticClass:"title"},[t._v("结构树查询")]),t._v(" "),s("div",{ref:"vi",staticClass:"part-tree__vehicle-info",class:{"is-expanded":t.isExpanded,"is-animation":t.isAnimation}},[s("div",{staticClass:"vehicle-info__shadow"}),t._v(" "),s("div",{staticClass:"vehicle-info__handler",on:{click:t.handleCollapse}},[s("transition",{attrs:{name:"fade",mode:"out-in"}},[s("span",{key:t.vehicleInfoState},[t._v(t._s(t.buttonArrow))])]),t._v(" "),[t._v("车辆信息")]],2),t._v(" "),s("vehicle-info",{attrs:{"start-cut-off":!0,"show-research":!1}})],1)])}),[],!1,null,"51cf7961",null).exports),_={props:{type:{type:String,required:!1,default:"block"}},computed:{isBlock:function(){return"block"===this.type},isText:function(){return"text"===this.type}}},b=(s(978),Object(r.a)(_,(function(){var t=this.$createElement,e=this._self._c||t;return this.isText?e("div",{staticClass:"skeleton--text"},[e("span")]):this.isBlock?e("div",{staticClass:"skeleton--block"}):this._e()}),[],!1,null,"94034cf0",null).exports),m=s(676),g=s(148);function y(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function O(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?y(Object(s),!0).forEach((function(e){P(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):y(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function P(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var w={components:{DevBackground:c,LazyImage:l,NavigationPartTree:v,Skeleton:b,Top:m.a},computed:O({},Object(a.e)("partTree",["selectedPart","toastMessage"]),{},Object(a.c)("partTree",["currentVehicle","partList","subPartList","searching","imageList"]),{activeMenu:function(){return this.selectedPart?this.selectedPart.id:""},selectedSubPart:{set:function(t){this.updateSelectedSubPart(t)},get:function(){var t=this.$store.state.partTree.selectedSubPart;return t&&t.id||""}},showSkeletonTabs:function(){return this.selectedPart&&!this.selectedPart.subParts.size&&this.searching},showTabs:function(){return this.selectedPart&&this.subPartList.length},showDev:function(){return!this.partList.length&&!this.searching&&!this.toastMessage},showToastMessage:function(){return!this.selectedSubPart&&this.toastMessage},showSkeletonImage:function(){return!this.imageList.length&&this.searching},showImageList:function(){return this.imageList.length},showTabToastMessage:function(){return this.toastMessage}}),created:function(){this.getParts()},mounted:function(){g.a.partTreePage()},beforeDestroy:function(){this.cancelRequest()},methods:O({},Object(a.b)("partTree",["getParts","cancelRequest","updatePartDetails"]),{},Object(a.d)("partTree",["updateSelectedPart","updateSelectedSubPart"]),{handleSelectPart:function(t){this.searching||(this.updateSelectedPart(t),this.getParts({index:t}))},handleSelectSubPart:function(t){var e=t.name;this.searching||this.getParts({index:this.selectedPart.id,subIndex:e})},toPartDetails:function(t){this.updatePartDetails(t),this.$router.push({name:h.f.PART_DETAILS})},handleScroll:i.a.debounce((function(t){t.target.scrollTop>150?this.$refs.top.show():this.$refs.top.hide()}),150),scrollToTop:function(){var t="wrapper-"+this.selectedSubPart;this.$refs[t].length&&this.$refs[t][0]&&(this.$refs[t][0].scrollTop=0,this.$refs[t][0].scrollLeft=0)}})},k=(s(979),Object(r.a)(w,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"page-part-tree"},[s("header",{staticClass:"part-tree__header"},[s("navigation-part-tree")],1),t._v(" "),s("section",{staticClass:"part-tree__main"},[s("aside",[!t.partList.length&&t.searching?s("skeleton",{staticClass:"skeleton-title",attrs:{type:"text"}}):t.partList.length?s("p",[t._v("主组")]):t._e(),t._v(" "),!t.partList.length&&t.searching?s("div",t._l(7,(function(t){return s("div",{key:t},[s("skeleton",{attrs:{type:"text"}})],1)})),0):s("el-menu",{staticClass:"part-tree__menu",attrs:{"default-active":t.activeMenu},on:{select:t.handleSelectPart}},t._l(t.partList,(function(e){return s("el-menu-item",{key:e.id,attrs:{index:e.id,disabled:t.searching}},[s("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])})),1)],1),t._v(" "),s("main",[t.showSkeletonTabs?s("div",[s("skeleton")],1):t.showTabs?s("el-tabs",{staticClass:"part-tree__tabs",attrs:{type:"card"},on:{"tab-click":t.handleSelectSubPart},model:{value:t.selectedSubPart,callback:function(e){t.selectedSubPart=e},expression:"selectedSubPart"}},t._l(t.subPartList,(function(e){return s("el-tab-pane",{key:e.id,attrs:{label:e.name,name:e.id,disabled:t.searching}},[s("div",{ref:"wrapper-"+e.id,refInFor:!0,staticClass:"wrapper",on:{scroll:t.handleScroll}},[t.selectedSubPart&&t.selectedSubPart.length?s("div",{staticClass:"part-tree__img__wrap"},[t.showSkeletonImage?s("skeleton",{staticClass:"skeleton-count"}):t.showImageList?s("div",{staticClass:"count"},[t._v("共 "+t._s(t.imageList.length)+" 张")]):t._e(),t._v(" "),t.showSkeletonImage?s("skeleton",{staticClass:"skeleton-img"}):t.showImageList?s("div",{staticClass:"img-list"},t._l(t.imageList,(function(e,n){return s("lazy-image",{key:n,attrs:{src:e.src,name:e.name},on:{click:function(s){return t.toPartDetails(e)}}})})),1):t._e(),t._v(" "),t.showTabToastMessage?s("div",{staticClass:"part-tree__msg"},[s("span",[t._v(t._s(t.toastMessage))])]):t._e()],1):t._e()])])})),1):t.showDev?s("dev-background"):t.showToastMessage?s("div",{staticClass:"part-tree__msg"},[s("span",[t._v(t._s(t.toastMessage))])]):t._e(),t._v(" "),s("top",{ref:"top",on:{click:t.scrollToTop}})],1)])])}),[],!1,null,"41e2bb90",null));e.default=k.exports},649:function(t,e,s){"use strict";function n(t,e,s,n,i,a,r,c){var o,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=s,l._compiled=!0),n&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),r?(o=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=o):i&&(o=c?function(){i.call(this,this.$root.$options.shadowRoot)}:i),o)if(l.functional){l._injectStyles=o;var u=l.render;l.render=function(t,e){return o.call(e),u(t,e)}}else{var h=l.beforeCreate;l.beforeCreate=h?[].concat(h,o):[o]}return{exports:t,options:l}}s.d(e,"a",(function(){return n}))},656:function(t,e,s){},667:function(t,e,s){},671:function(t,e,s){"use strict";var n=s(656);s.n(n).a},676:function(t,e,s){"use strict";var n={data:function(){return{isShow:!1}},methods:{handleClick:function(){this.$emit("click")},show:function(){this.isShow=!0},hide:function(){this.isShow=!1}}},i=(s(671),s(649)),a=Object(i.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn-top",class:{"is-show":this.isShow},on:{click:this.handleClick}},[e("div",{staticClass:"icon-top"})])}),[],!1,null,"0441f7df",null);e.a=a.exports},687:function(t,e,s){"use strict";s(82),s(100),s(67),s(101),s(102),s(103),s(68);var n=s(80),i=s(0);function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function r(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var c={props:{startCutOff:{type:Boolean,required:!1,default:!1},showResearch:{type:Boolean,required:!1,default:!0},customVehicle:{type:Object,required:!1,default:null}},data:function(){return{items:[{label:"VIN",key:"vinCode"},{label:"车辆品牌",key:"maker"},{label:"车系",key:"serial"},{label:"年份",key:"year"},{label:"排量",key:"motor"},{label:"变速箱",key:"transmission"}]}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){r(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({vehicle:function(){return this.customVehicle||this.$store.state.vinQuery.currentVehicle}},Object(n.e)("partsList",["partsListTotal"])),methods:{handleGoHome:function(){this.$emit("research"),this.$router.push({name:i.f.HOME})},goPartsList:function(){open("#/parts-list")}}},o=(s(706),s(649)),l=Object(o.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vehicle-info"},[t._l(t.items,(function(e,n){return[t.vehicle[e.key]?s("div",{key:n,staticClass:"vehicle-info_wrap"},[s("span"),t._v(" "),s("div",{staticClass:"item"},[s("p",{staticClass:"title"},[t._v(t._s(e.label))]),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(t.vehicle[e.key]))])])]):t._e()]})),t._v(" "),t.showResearch?s("button",{staticClass:"btn-research",on:{click:t.handleGoHome}},[t._v("重新查询")]):t._e(),t._v(" "),s("div",{staticClass:"part_list",on:{click:t.goPartsList}},[s("i",{staticClass:"icon_list"}),t._v(" "),s("span",[t._v("配件清单")]),t._v(" "),s("span",{staticClass:"list_total"},[t._v(t._s(t.partsListTotal))])])],2)}),[],!1,null,"46f116eb",null);e.a=l.exports},706:function(t,e,s){"use strict";var n=s(667);s.n(n).a},744:function(t,e,s){},745:function(t,e,s){},746:function(t,e,s){},747:function(t,e,s){},748:function(t,e,s){},975:function(t,e,s){"use strict";var n=s(744);s.n(n).a},976:function(t,e,s){"use strict";var n=s(745);s.n(n).a},977:function(t,e,s){"use strict";var n=s(746);s.n(n).a},978:function(t,e,s){"use strict";var n=s(747);s.n(n).a},979:function(t,e,s){"use strict";var n=s(748);s.n(n).a}}]);